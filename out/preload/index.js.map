{"version":3,"file":"index.js","sources":["../../node_modules/.pnpm/@electron-toolkit+preload@3.0.2_electron@31.7.7/node_modules/@electron-toolkit/preload/dist/index.mjs","webpack/runtime/compat_get_default_export","webpack/runtime/define_property_getters","webpack/runtime/has_own_property","webpack/runtime/make_namespace_object","../../src/preload/index.ts"],"sourcesContent":["import { webUtils, webFrame, ipcRenderer, contextBridge } from 'electron';\n\nconst electronAPI = {\n    ipcRenderer: {\n        send(channel, ...args) {\n            ipcRenderer.send(channel, ...args);\n        },\n        sendTo(webContentsId, channel, ...args) {\n            const electronVer = process.versions.electron;\n            const electronMajorVer = electronVer ? parseInt(electronVer.split('.')[0]) : 0;\n            if (electronMajorVer >= 28) {\n                throw new Error('\"sendTo\" method has been removed since Electron 28.');\n            }\n            else {\n                ipcRenderer.sendTo(webContentsId, channel, ...args);\n            }\n        },\n        sendSync(channel, ...args) {\n            return ipcRenderer.sendSync(channel, ...args);\n        },\n        sendToHost(channel, ...args) {\n            ipcRenderer.sendToHost(channel, ...args);\n        },\n        postMessage(channel, message, transfer) {\n            ipcRenderer.postMessage(channel, message, transfer);\n        },\n        invoke(channel, ...args) {\n            return ipcRenderer.invoke(channel, ...args);\n        },\n        on(channel, listener) {\n            ipcRenderer.on(channel, listener);\n            return () => {\n                ipcRenderer.removeListener(channel, listener);\n            };\n        },\n        once(channel, listener) {\n            ipcRenderer.once(channel, listener);\n            return () => {\n                ipcRenderer.removeListener(channel, listener);\n            };\n        },\n        removeListener(channel, listener) {\n            ipcRenderer.removeListener(channel, listener);\n            return this;\n        },\n        removeAllListeners(channel) {\n            ipcRenderer.removeAllListeners(channel);\n        }\n    },\n    webFrame: {\n        insertCSS(css) {\n            return webFrame.insertCSS(css);\n        },\n        setZoomFactor(factor) {\n            if (typeof factor === 'number' && factor > 0) {\n                webFrame.setZoomFactor(factor);\n            }\n        },\n        setZoomLevel(level) {\n            if (typeof level === 'number') {\n                webFrame.setZoomLevel(level);\n            }\n        }\n    },\n    webUtils: {\n        getPathForFile(file) {\n            return webUtils.getPathForFile(file);\n        }\n    },\n    process: {\n        get platform() {\n            return process.platform;\n        },\n        get versions() {\n            return process.versions;\n        },\n        get env() {\n            return { ...process.env };\n        }\n    }\n};\n/**\n * Expose Electron APIs from your preload script, the API\n * will be accessible from the website on `window.electron`.\n */\nfunction exposeElectronAPI() {\n    if (process.contextIsolated) {\n        try {\n            contextBridge.exposeInMainWorld('electron', electronAPI);\n        }\n        catch (error) {\n            console.error(error);\n        }\n    }\n    else {\n        // @ts-ignore (need dts)\n        window.electron = electronAPI;\n    }\n}\n\nexport { electronAPI, exposeElectronAPI };\n","// getDefaultExport function for compatibility with non-ESM modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};\n","__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n        if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n            Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n        }\n    }\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {electronAPI} from '@electron-toolkit/preload'\nimport {contextBridge} from 'electron'\n\n// Custom APIs for renderer\nconst api = {\n  getDeviceInfo: async () => {\n    return await electronAPI.ipcRenderer.invoke('get-device-info')\n  }\n}\n\n// Use `contextBridge` APIs to expose Electron APIs to\n// renderer only if context isolation is enabled, otherwise\n// just add to the DOM global.\nif (process.contextIsolated) {\n  try {\n    contextBridge.exposeInMainWorld('electron', electronAPI)\n    contextBridge.exposeInMainWorld('api', api)\n  } catch (error) {\n    console.error(error)\n  }\n} else {\n  // @ts-ignore (define in dts)\n  window.electron = electronAPI\n  // @ts-ignore (define in dts)\n  window.api = api\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACNA;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACNA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}